<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Something Special üíñ</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<style>
* {
  box-sizing: border-box;
  font-family: "Poppins", sans-serif;
}

body {
  margin: 0;
  height: 100vh;
  background: #ffecec;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* ---------- Shared ---------- */
.card {
  background: white;
  width: 360px;
  padding: 40px 30px;
  border-radius: 20px;
  text-align: center;
  box-shadow: 0 10px 30px rgba(0,0,0,0.12);
  animation: fadeIn 0.6s ease;
  z-index: 2;
}

.hidden { display: none; }

h1 {
  color: #ff4d6d;
  font-size: 22px;
  margin-bottom: 15px;
}

p {
  font-size: 14px;
  color: #555;
  margin-bottom: 18px;
}

button {
  border-radius: 25px;
  border: none;
  padding: 10px 22px;
  font-size: 14px;
  cursor: pointer;
}

/* ---------- Page 1 ---------- */
#reassureText {
  font-style: italic;
  color: #777;
  min-height: 24px;
}

#continueBtn {
  background: #ff4d6d;
  color: white;
  opacity: 0;
  pointer-events: none;
  transition: opacity 1s ease;
}

#continueBtn.show {
  opacity: 1;
  pointer-events: auto;
}

#progressContainer {
  width: 100%;
  height: 10px;
  background: #f3f3f3;
  border-radius: 10px;
  overflow: hidden;
  margin-top: 15px;
  display: none;
}

#progressBar {
  width: 0%;
  height: 100%;
  background: linear-gradient(90deg, #ff4d6d, #ff9f43);
}

#progressText {
  font-size: 12px;
  margin-top: 6px;
  color: #777;
  display: none;
}

/* ---------- Page 2 ---------- */
.teddy {
  font-size: 64px;
  margin-bottom: 10px;
}

.buttons {
  display: flex;
  justify-content: center;
  gap: 15px;
}

.btn-slot {
  width: 90px;
  height: 40px;
}

#yesBtn { background: #ff4d6d; color: white; }
#maybeBtn { background: #ff9f43; color: white; }

#noBtn {
  background: white;
  color: #ff4d6d;
  border: 2px solid #ff4d6d;
  cursor: not-allowed;
}

#yesBtn, #maybeBtn, #noBtn {
  position: fixed;
  z-index: 9999;
  display: none;
}

/* ---------- Page 3 ---------- */
#finalBtn, #forceYesBtn {
  background: #ff4d6d;
  color: white;
  margin-top: 12px;
}

.highlight {
  color: #ff4d6d;
  font-weight: bold;
}

.emoji {
  position: fixed;
  top: -40px;
  font-size: 24px;
  animation: fall linear forwards;
  pointer-events: none;
  z-index: 1;
}

@keyframes fall {
  to { transform: translateY(110vh); opacity: 0; }
}

@keyframes fadeIn {
  from { opacity: 0; transform: scale(0.95); }
  to { opacity: 1; transform: scale(1); }
}
</style>
</head>

<body>

<!-- PAGE 1 -->
<div class="card" id="page1">
  <h1>Divya, I need to ask you something‚Ä¶</h1>
  <p id="reassureText"></p>

  <button id="continueBtn">Continue</button>

  <div id="progressContainer">
    <div id="progressBar"></div>
  </div>
  <div id="progressText">0%</div>
</div>

<!-- PAGE 2 -->
<div class="card hidden" id="page2">
  <div class="teddy">üß∏</div>
  <h1>Will you be my Valentine?</h1>
  <p>I have something special to ask you... üíñ</p>

  <div class="buttons">
    <div class="btn-slot" id="yesSlot"></div>
    <div class="btn-slot" id="maybeSlot"></div>
    <div class="btn-slot" id="noSlot"></div>
  </div>
</div>

<!-- PAGE 3 -->
<div class="card hidden" id="page3">
  <div id="finalContent"></div>

  <button id="finalBtn" class="hidden">One last thing üíå</button>
  <button id="forceYesBtn" class="hidden">Yes ‚ù§Ô∏è</button>
</div>

<!-- FLOATING BUTTONS -->
<button id="yesBtn">Yes</button>
<button id="maybeBtn">Maybe</button>
<button id="noBtn">No</button>

<script>
/* ---------- Page 1 Messages ---------- */
const messages = [
  "This is not a prank‚Ä¶ üòá",
  "Okay maybe a little üòÖ",
  "Just trust me ‚ù§Ô∏è"
];

const reassureText = document.getElementById("reassureText");
const continueBtn = document.getElementById("continueBtn");

let msgIndex = 0;
const msgInterval = setInterval(() => {
  reassureText.textContent = messages[msgIndex];
  msgIndex++;
  if (msgIndex === messages.length) {
    clearInterval(msgInterval);
    setTimeout(() => continueBtn.classList.add("show"), 800);
  }
}, 2000);

/* ---------- Progress ---------- */
const progressContainer = document.getElementById("progressContainer");
const progressBar = document.getElementById("progressBar");
const progressText = document.getElementById("progressText");

const page1 = document.getElementById("page1");
const page2 = document.getElementById("page2");
const page3 = document.getElementById("page3");

continueBtn.onclick = () => {
  continueBtn.disabled = true;
  continueBtn.textContent = "Loading courage‚Ä¶";
  progressContainer.style.display = "block";
  progressText.style.display = "block";

  let progress = 0;
  const timer = setInterval(() => {
    progress++;
    progressBar.style.width = progress + "%";
    progressText.textContent = progress + "%";
    if (progress >= 100) {
      clearInterval(timer);
      page1.classList.add("hidden");
      page2.classList.remove("hidden");
      showButtons();
      alignAll();
    }
  }, 25);
};

/* ---------- Buttons ---------- */
const yesBtn = document.getElementById("yesBtn");
const maybeBtn = document.getElementById("maybeBtn");
const noBtn = document.getElementById("noBtn");

const yesSlot = document.getElementById("yesSlot");
const maybeSlot = document.getElementById("maybeSlot");
const noSlot = document.getElementById("noSlot");

let yesHover = 0, maybeHover = 0;
let yesUnlocked = false, maybeUnlocked = false;
let chosenPath = "";

/* NO button tease state */
let noHoverCount = 0;
let noTeaseShown = false;

function showButtons() {
  yesBtn.style.display = maybeBtn.style.display = noBtn.style.display = "block";
}

function align(btn, slot) {
  const r = slot.getBoundingClientRect();
  btn.style.left = r.left + "px";
  btn.style.top = r.top + "px";
}

function alignAll() {
  align(yesBtn, yesSlot);
  align(maybeBtn, maybeSlot);
  align(noBtn, noSlot);
}

function moveRandom(btn) {
  btn.style.left = Math.random() * (innerWidth - 100) + "px";
  btn.style.top = Math.random() * (innerHeight - 50) + "px";
}

/* Hover logic */
yesBtn.onmouseenter = () => {
  if (++yesHover <= 3) moveRandom(yesBtn);
  else { align(yesBtn, yesSlot); yesUnlocked = true; }
};

maybeBtn.onmouseenter = () => {
  if (++maybeHover <= 3) moveRandom(maybeBtn);
  else { align(maybeBtn, maybeSlot); maybeUnlocked = true; }
};

noBtn.onmouseenter = () => {
  moveRandom(noBtn);
  noHoverCount++;

  if (noHoverCount >= 5 && !noTeaseShown) {
    noTeaseShown = true;
    setTimeout(() => {
      alert("Nice try üòè But some doors are not meant to open ‚ù§Ô∏è");
    }, 250);
  }
};

/* ---------- Page 3 ---------- */
const finalContent = document.getElementById("finalContent");
const finalBtn = document.getElementById("finalBtn");
const forceYesBtn = document.getElementById("forceYesBtn");

yesBtn.onclick = () => {
  if (!yesUnlocked) return;
  chosenPath = "yes";
  showInitialResult(`
    <h1>Yay! I'm so happy ‚ù§Ô∏è</h1>
    <p>Divya, my heart found its home the moment I found you.</p>
  `);
};

maybeBtn.onclick = () => {
  if (!maybeUnlocked) return;
  chosenPath = "maybe";
  showInitialResult(`
    <h1>üòè Caught You!</h1>
    <p>Maybe today‚Ä¶ but forever was always the plan ‚ù§Ô∏è</p>
  `);
};

function showInitialResult(html) {
  page2.classList.add("hidden");
  yesBtn.style.display = maybeBtn.style.display = noBtn.style.display = "none";
  page3.classList.remove("hidden");
  finalContent.innerHTML = html;
  finalBtn.classList.remove("hidden");
  startEmojiRain();
}

finalBtn.onclick = () => {
  if (chosenPath === "yes") {
    finalContent.innerHTML = `
      <div style="font-size:48px">üë©‚Äç‚ù§Ô∏è‚Äçüë®</div>
      <h1>Yay! I'm so happy!</h1>
      <p>
        "Divya, I‚Äôm waiting for the moment we tie the knot and begin a hundred years
        of love, laughter, and unforgettable memories together."
      </p>
      <p class="highlight">Saranghae (ÏÇ¨ÎûëÌï¥) ‚ù§Ô∏è</p>
    `;
    finalBtn.classList.add("hidden");
  } else {
    finalContent.innerHTML = `
      <h1>üòÖ Oops!</h1>
      <p>Please click Yes ‚ù§Ô∏è</p>
    `;
    finalBtn.classList.add("hidden");
    forceYesBtn.classList.remove("hidden");
  }
};

forceYesBtn.onclick = () => {
  forceYesBtn.classList.add("hidden");
  finalContent.innerHTML = `
    <h1>‚ù§Ô∏è Forever Us</h1>
    <p>No matter what, I choose you ‚Äî today, tomorrow, always ‚ù§Ô∏è</p>
  `;
};

/* ---------- Emoji Rain ---------- */
const emojis = ["‚ù§Ô∏è","üíû","ü•∞","üòç","üë©‚Äç‚ù§Ô∏è‚Äçüë®"];
function startEmojiRain() {
  setInterval(() => {
    const e = document.createElement("div");
    e.className = "emoji";
    e.textContent = emojis[Math.random()*emojis.length|0];
    e.style.left = Math.random()*100 + "vw";
    e.style.animationDuration = (3+Math.random()*3)+"s";
    document.body.appendChild(e);
    setTimeout(()=>e.remove(),6000);
  },300);
}

window.onresize = alignAll;
</script>

</body>
</html>
